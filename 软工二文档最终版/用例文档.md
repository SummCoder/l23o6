# 铁路售票系统用例文档



## 小组成员信息

第21组：

* 黄天宇 211250036
* 刘洋 211250037
* 汪华 211250038
* 陈凯权 211250026

<table>
  <tr>
  <td><b>修改人员</b></td>
    <td><b>日期</b></td>
    <td><b>变更原因</b></td>
    <td><b>版本号</b></td>
  </tr>
  <tr>
    <td>
    全体成员
    </td>
    <td>
      2023.4.11
    </td>
    <td>
      最初草稿
    </td>
    <td>
      v1.0.0
    </td>
  </tr>
   <tr>
    <td>
    刘洋
    </td>
    <td>
      2023.4.12
    </td>
    <td>
     添加了用例图与用例列表
    </td>
    <td>
      v1.0.1
    </td>
  </tr>
   <tr>
    <td>
   汪华
    </td>
    <td>
      2023.4.13
    </td>
    <td>
     完成了个人基本信息管理、浏览车票详细信息、购买车票的详细用例
    </td>
    <td>
      v1.0.2
    </td>
  </tr>
   <tr>
    <td>
    刘洋
    </td>
    <td>
      2023.4.13
    </td>
    <td>
     完成了铁路信息管理、车票信息管理的详细用例
    </td>
    <td>
      v1.0.3
    </td>
  </tr>
   <tr>
    <td>
    刘洋
    </td>
    <td>
      2023.7.7
    </td>
    <td>
     根据lab7对车票信息管理等详细用例进行了修改，并添加了车站信息管理与车次信息管理
    </td>
    <td>
      v1.0.4
    </td>
  </tr>
    <tr>
    <td>
    刘洋
    </td>
    <td>
      2023.7.8
    </td>
    <td>
     规范统一了用例描述表格式并将登录注册从用例中去除、将后置条件、特殊条件等空格的无补齐、添加变更日志、丰富用例描述
    </td>
    <td>
      v1.0.5
    </td>
  </tr>
</table>




## 目录

[1. 引言](#1. 引言)

​	[1.1 目的](#1.1 目的)

​	[1.2 阅读说明](#1.2 阅读说明)

​	[1.3 参考文献](#1.3 参考文献)

[2. 用例图](#2. 用例图)

[3. 用例列表](#3. 用例列表)

[4. 详细用例描述](#4. 详细用例描述)

​	[4.1 个人基本信息管理](#4.1 个人基本信息管理)

​	[4.2 浏览车票详细信息](#4.2 浏览车票详细信息)

​	[4.3 购买车票](#4.3 购买车票)

​	[4.4 路线信息管理](#4.4 路线信息管理)

​	[4.5 订单信息管理](#4.5 订单信息管理)

​	[4.6 车站信息管理](#4.6 车站信息管理)

​	[4.7 车次信息管理](#4.7 车次信息管理)



## 1. 引言

### 1.1 目的

本文档描述了互联网购票乘车系统的用户需求



### 1.2 参考文献

丁二玉，刘钦编著《软件开发的技术基础》，2012



## 2. 用例图





![用例图](https://git.nju.edu.cn/211250037/image/-/raw/main/未命名文件-导出.png)



## 3. 用例列表

<table>
   <tr>
        <td>参与者</td>
        <td>用例</td>
    </tr>
    <tr>
        <td rowspan = '4'>客户</td>
        <td>1. 个人基本信息管理</td>
    </tr>
    <tr>
        <td>2. 浏览车票详细信息</td>
    </tr>
    <tr>
        <td>3. 购买车票</td>
    </tr>
  <tr>
        <td>4. 订单信息管理</td>
    </tr>
    <tr>
        <td rowspan = '3'> 铁路管理员</td>
        <td>5. 车站信息管理</td>
    </td>
    <tr>
        <td>6. 路线信息管理信息管理</td>
    </td>
</tr><tr>
        <td>7. 车次信息管理信息管理</td>
    </td>
</tr>
</table>







## 4. 详细用例描述

### 4.1 个人基本信息管理

<table>
    <tr>
        <td>ID</td>
        <td>1</td>
        <td>名称</td>
        <td>个人基本信息管理</td>
    </tr>
    <tr>
        <td>参与者</td>
        <td colspan = '3'>客户，目的是注册，登录账号并查看，维护客户信息</td>
    </tr>
    <tr>
        <td>触发条件</td>
        <td colspan = '3'>用户主动或系统要求注册或登陆账号后请求查看或修改客户信息</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td colspan = '3'>登录：系统中存在用户信息；查看，维护：用户已经登录</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td colspan = '3'>系统更新用户信息</td>
    </tr>
    <tr>
        <td>正常流程</td>
        <td colspan = '3'>
1. 系统给出用户用户名，姓名，证件类型、证件号、联系方式<br>
2. 用户发出编辑用户用户名，姓名，证件类型、证件号、联系方式的请求<br>
4. 系统给出用户用户名，姓名，证件类型、证件号、联系方式的编辑页面<br>
5. 用户正确修改完信息后提交<br>
6. 系统返回查看页面，并显示编辑后页面</td>
    </tr>
    <tr>
        <td>扩展流程</td>
        <td colspan = '3'>
        2a. 用户发出取消编辑请求<br>&emsp;&emsp;
        1. 系统回到上一层，用户信息不变<br>
        3a. 用户编辑信息不完整<br>&emsp;&emsp;
        1.系统提示用户补全信息<br>
        3b. 用户编辑信息格式用户名长度未在4-16或是不是有字母，数字下划线组成、姓名不是由汉语组成、证件号不是由18位数字组成、联系方式不是由11位数字组成<br>&emsp;&emsp;
        1.系统提示用户编辑信息不合法，重新编辑
        </td>
    </tr>
    <tr>
        <td>特殊需求</td>
        <td colspan = '3'>无</td>
    </tr>
</table>






### 4.2 浏览车票详细信息

<table>
    <tr>
        <td>ID</td>
        <td>2</td>
        <td>名称</td>
        <td>浏览车票详细信息</td>
    </tr>
    <tr>
        <td>参与者</td>
        <td colspan = '3'>客户，目的是让用户可以搜索需要的车票，以及查看所有车票和车票的详细信息</td>
    </tr>
    <tr>
        <td>触发条件</td>
        <td colspan = '3'>用户发起搜索或查看请求</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td colspan = '3'>用户已经登录账号</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td colspan = '3'>无</td>
    </tr>
    <tr>
        <td>正常流程</td>
        <td colspan = '3'>
        1. 用户选择出发地，目的地和出行日期<br>
        2. 系统以列表方式展示所有符合的车次，包括出发时间，到达时间和车次编号<br>
        3. 用户发出对某车次的详细信息查看请求<br>
        4. 系统给出该车次详细信息，包括车次编号，出发时间，到达时间，车票是否有一二等座及其是否有余票和其价格</td>
    </tr>
    <tr>
        <td>扩展流程</td>
        <td colspan = '3'>
        2a. 用户发出退出请求<br>&emsp;&emsp;
        1. 系统退回上一层<br>
         4a. 用户发出退出请求<br>&emsp;&emsp;
        1. 系统退回上一层</td>
    </tr>
    <tr>
        <td>特殊需求</td>
        <td colspan = '3'>1. 详细信息界面，若某等座无票，显示无，有则显示有，并显示剩余数量</td>
    </tr>
</table>







### 4.3 购买车票

<table>
    <tr>
        <td>ID</td>
        <td>3</td>
        <td>名称</td>
        <td>购买车票</td>
    </tr>
    <tr>
        <td>参与者</td>
        <td colspan = '3'>客户，目的是让客户可以选择购买车票的类型，数量</td>
    </tr>
    <tr>
        <td>触发条件</td>
        <td colspan = '3'>用户发起购买请求</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td colspan = '3'>用户已经登录，且进入车票的详细信息界面</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td colspan = '3'>系统储存订单信息，并更新剩余车票信息</td>
    </tr>
    <tr>
        <td>正常流程</td>
        <td colspan = '3'>
        1. 用户选择一等座还是二等座，以及票数，价格，是否选择使用里程积分，选择支付方式<br>
        2. 用户提交订单<br>
        3. 系统显示成功购买，并更新车票信息，返回搜索列表</td>
    </tr>
    <tr>
        <td>扩展流程</td>
        <td colspan = '3'>1a. 已经没有一等座或二等座或该列车不开设一等座或二等座<br>&emsp;&emsp;
        1. 系统提示该座没有余票<br>
        1b. 用户所需票数高于余票数<br>&emsp;&emsp;
        1. 系统提示余票数不足<br>
        1c. 所选位置没有余票<br>&emsp;&emsp;
        1. 系统提示该位置没有余票<br>
        1d. 用户发出退出请求<br>&emsp;&emsp;
        1. 系统返回上一层 
        </td>
    </tr>
    <tr>
        <td>特殊需求</td>
        <td colspan = '3'>1. 余票数系统实时更新，即使用户显示的余票为有，在选择完座次等级后会刷新并提示</td>
    </tr>
</table>






### 4.4 路线信息管理

<table>
    <tr>
        <td>ID</td>
        <td>4</td>
        <td>名称</td>
        <td>路线信息管理</td>
    </tr>
    <tr>
        <td>参与者</td>
        <td colspan = '3'>铁路管理员，目的是管理铁路路线信息，进行线路编排</td>
    </tr>
    <tr>
        <td>触发条件</td>
        <td colspan = '3'>管理员提出维护路线信息的请求</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td colspan = '3'>用户是管理员身份且已经登录</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td colspan = '3'>系统更新线路信息</td>
    </tr>
    <tr>
        <td>正常流程</td>
        <td colspan = '3'><p>
          1.铁路工作人员查看线路信息
          </p>
      <p>
        2. 系统显示铁路详细信息，包括运行起点站和终点站，运行路线，路线名称
          </p>
      <p>
        3. 铁路工作人员根据情况修改铁路详细信息，包括更改起点站和终点站，运行路线，路线名称或是删除路线
          </p><p>
          4.系统提示修改完成，显示最新的铁路信息
          </p></td>
    </tr>
    <tr>
        <td>扩展流程</td>
        <td colspan = '3'>3a. 工作人员未完善必须完善的铁路相关信息<p>&emsp;1. 系统提示未完成，要求继续完善     </p></td>
</tr>
<tr>
    <td>特殊需求</td>
    <td colspan = '3'>无</td>
</tr>  
  </table>








### 4.5 订单信息管理

<table>
    <tr>
        <td>ID</td>
        <td>5</td>
        <td>名称</td>
        <td>订单信息管理</td>
    </tr>
    <tr>
        <td>参与者</td>
        <td colspan = '3'>客户，目的是让客户了解自己所有订单的详细信息</td>
    </tr>
    <tr>
        <td>触发条件</td>
        <td colspan = '3'>客户发出浏览或是修改个人订单的请求</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td colspan = '3'>用户已经登录</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td colspan = '3'>系统更新订单信息</td>
    </tr>
    <tr>
        <td>正常流程</td>
        <td colspan = '3'><p>
          1. 用户查看个人所有的订单
          </p><p>
          2. 系统显示所有订单情况，包括订单号、订单状态、创建日期、车次信息
          </p><p>
          3. 用户选中需要修改的订单类型
          </p><p>
          4. 系统显示该订单类型的可修改状态
          </p><p>
          5. 用户选择相应订单退款
          </p><p>
          6. 系统提示修改成功并更新
          </p></td>
    </tr>
    <tr>
        <td>扩展流程</td>
        <td colspan = '3'>5a. 输入的订单信息不对，购买车票已发车<p>&emsp;1. 系统提示错误并拒绝输入      </p></td>
</tr>
<tr>
    <td>特殊需求</td>
    <td colspan = '3'>已支付的订单在车辆发车后订单状态更新为已完成</td>
</tr></table>



###4.6 车站信息管理

<table>
    <tr>
        <td>ID</td>
        <td>6</td>
        <td>名称</td>
        <td>车站信息管理</td>
    </tr>
    <tr>
        <td>参与者</td>
        <td colspan = '3'>铁路工作人员，目的是让铁路工作能够查询、添加、删除车站以进行管理</td>
    </tr>
    <tr>
        <td>触发条件</td>
        <td colspan = '3'>铁路工作人员发出浏览车站信息的请求</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td colspan = '3'>铁路工作人员已经登录</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td colspan = '3'>系统更新车站信息</td>
    </tr>
    <tr>
        <td>正常流程</td>
        <td colspan = '3'><p>
          1. 铁路工作人员查看所有车站车站名
          </p><p>
          2. 系统显示所有车站站点名
          </p><p>
          3. 铁路工作人员选中需要查询或更改或删除的车站
          </p><p>
          4. 系统显示该车站可操作的信息
          </p><p>
          5.铁路工作人员执行相应操作 
          </p><p>
          6. 系统提示修改成功并更新
          </p></td>
    </tr>
    <tr>
        <td>扩展流程</td>
        <td colspan = '3'>5a. 未在查询中输入<p>&emsp;1. 系统默认显示所有车站     </p></td>
</tr>
<tr>
    <td>特殊需求</td>
    <td colspan = '3'>无</td>
</tr></table>


### 4.7 车次信息管理

<table>
    <tr>
        <td>ID</td>
        <td>7</td>
        <td>名称</td>
        <td>车次信息管理</td>
    </tr>
    <tr>
        <td>参与者</td>
        <td colspan = '3'>铁路工作人员，目的是让铁路工作能够查询、添加、删除车次以进行管理</td>
    </tr>
    <tr>
        <td>触发条件</td>
        <td colspan = '3'>铁路工作人员发出浏览车次信息的请求</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td colspan = '3'>铁路工作人员已经登录</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td colspan = '3'>系统更新车次信息</td>
    </tr>
    <tr>
        <td>正常流程</td>
        <td colspan = '3'><p>
          1. 铁路工作人员查看包括路线名、出发时间、到达时间、路线的车次信息
          </p><p>
          2. 系统显示所有车次的信息
          </p><p>
          3. 铁路工作人员选中需要查询或更改或删除的车次
          </p><p>
          4. 系统显示操作后剩下的车次信息并提示更新成功
          </p></td>
    </tr>
    <tr>
        <td>扩展流程</td>
        <td colspan = '3'>4a. 未在查询中输入<p>&emsp;1. 系统默认显示所有车次      </p></td>
</tr>
<tr>
    <td>特殊需求</td>
    <td colspan = '3'>无</td>
</tr></table>

